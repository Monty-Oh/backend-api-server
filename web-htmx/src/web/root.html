<div>
    <div id="root-container"></div>
</div>

<script>
    //  상수 선언
    const LOCAL_STORAGE_KEY_ACCESS_TOKEN = "monty_web_accessToken";
    const LOCAL_STORAGE_KEY_REFRESH_TOKEN = "monty_web_refreshToken";

    const accessToken = localStorage.getItem(LOCAL_STORAGE_KEY_ACCESS_TOKEN);
    const refreshToken = localStorage.getItem(LOCAL_STORAGE_KEY_REFRESH_TOKEN);

    //  토큰 검증
    let targetComponent = "/static/components/login.html";
    if (accessToken && refreshToken) {
        htmx.ajax("POST", "/token/validate", {values: {token: accessToken}})
            .then(() => {
                targetComponent = "/static/pages/main.html";
                console.log("test1");
            });
        console.log("test2");
    }

    //  target 컴포넌트 렌더링
    htmx.ajax(
        "GET", targetComponent,
        {
            target: "#root-container",
            swap: "outerHTML"
        }
    )
</script>